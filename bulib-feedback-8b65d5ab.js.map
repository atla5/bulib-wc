{"version":3,"file":"bulib-feedback-8b65d5ab.js","sources":["../src/feedback/feedback.js","../src/feedback/bulib-feedback.js"],"sourcesContent":["import {LitElement, html} from 'lit-element/lit-element';\nimport {sendGAEvent} from '../_helpers/google_analytix';\n\n// codify values for 'helpful' default \nconst HELPFUL = 1; const NOT_HELPFUL = 0;\n\nexport default class BULibFeedback extends LitElement {\n\n  createRenderRoot(){ return this; }  // use light DOM\n\n  static get properties(){\n    return {\n      /** unique identifier for each feedback input (event category)*/\n      code: {type:String},\n      \n      /** [debugging] enables logging to the console */\n      debug: {type:Boolean},\n\n      /** [debugging] override main action (prevent GAEvent logging) */\n      prevent_action: {type:Boolean}\n    }\n  }\n\n  connectedCallback(){\n    super.connectedCallback();\n    this._logToConsole(`element with code '${this.code}' loaded`);\n  }\n\n  render(){\n    return html`\n      <style type=\"text/css\">\n        bulib-feedback button { \n          border-radius: 5px; \n          margin-right: 5px; \n        }\n        bulib-feedback button:hover { \n          background-color: rgba(0, 0, 0, 0.05); \n          cursor: pointer;\n        }\n      </style>\n      <i class=\"material-icons-outlined prm\">feedback</i>\n      <strong class=\"prl\">Was this helpful?</strong>\n      <div id=\"form\" class=\"inline\">\n        <button @click=\"${(e) => this._submitFeedback(HELPFUL)}\">Yes</button>\n        <button @click=\"${(e) => this._submitFeedback(NOT_HELPFUL)}\">No</button>\n      </div>\n    `;\n  }\n\n  _submitFeedback(value){\n    let action = this.code;\n    let label = !!value? \"helpful\":\"not-helpful\";\n    sendGAEvent(\"bulib-feedback\", action, label, value);\n    this.querySelector(\"#form\").innerHTML = '<em>thanks for your feedback!</em>';\n  }\n\n  _logToConsole(message){\n    if(this.debug){ console.log(\"bulib-feedback) \" + message); }\n  }\n\n}","import BULibFeedback from './feedback';\n\nwindow.customElements.define(\"bulib-feedback\", BULibFeedback);"],"names":["HELPFUL","NOT_HELPFUL","customElements","define","LitElement","createRenderRoot","this","code","type","String","debug","Boolean","prevent_action","connectedCallback","_logToConsole","render","html","e","_submitFeedback","value","action","sendGAEvent","querySelector","innerHTML","message","console","log"],"mappings":"2IAIA,MAAMA,EAAU,EAASC,EAAc,SCFhCC,eAAeC,OAAO,iBDId,cAA4BC,EAEzCC,0BAA2BC,mCAGlB,CAELC,KAAM,CAACC,KAAKC,QAGZC,MAAO,CAACF,KAAKG,SAGbC,eAAgB,CAACJ,KAAKG,UAI1BE,0BACQA,yBACDC,cAAe,sBAAqBR,KAAKC,gBAGhDQ,gBACSC,CAAK;;;;;;;;;;;;;;0BAcWC,GAAMX,KAAKY,gBAAgBlB;0BAC3BiB,GAAMX,KAAKY,gBAAgBjB;;MAKpDiB,gBAAgBC,OACVC,EAASd,KAAKC,KAElBc,EAAY,iBAAkBD,EADhBD,EAAO,UAAU,cACcA,QACxCG,cAAc,SAASC,UAAY,qCAG1CT,cAAcU,GACTlB,KAAKI,OAAQe,QAAQC,IAAI,mBAAqBF"}