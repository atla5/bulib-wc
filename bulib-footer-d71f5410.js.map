{"version":3,"file":"bulib-footer-d71f5410.js","sources":["../src/footer/footer.js","../src/footer/bulib-footer.js"],"sourcesContent":["import {LitElement, html, css} from 'lit-element/lit-element';\nimport {getSiteCodeFromUrl, getLibraryCodeFromUrl} from '../_helpers/lib_info_helper.js';\n\nimport {sendGAEventFromClickEvent} from '../_helpers/google_analytix';\n\n/** stored values for the sitemap */\nconst sitemap_values = {\n    \"wordpress\":{\n    \"header\":\"About the Libraries\",\n    \"links\":[\n      {\"title\":\"Interlibrary Borrowing\",\"href\":\"https://www.bu.edu/library/services/ill/\"},\n      {\"title\":\"Course Reserves\",       \"href\":\"https://www.bu.edu/library/services/reserves/\"},\n      {\"title\":\"For Alumni\",            \"href\":\"https://www.bu.edu/library/services/alumni/\"},\n      {\"title\":\"Staff Directory\",       \"href\":\"https://www.bu.edu/library/about/who-we-are/staff-directory/\"},\n      {\"title\":\"Maps & Floorplans\",     \"href\":\"https://www.bu.edu/library/about/maps-floorplans/\"},\n      {\"title\":\"For Faculty\",           \"href\":\"https://www.bu.edu/library/services/for-faculty/\"}\n    ]\n  },\"askalibrarian\":{\n    \"header\":\"Ask A Librarian\",\n    \"links\":[\n      {\"title\":\"Research Guides by Subject\",    \"href\":\"https://library.bu.edu/guides/\"},\n      {\"title\":\"Course Guides\",                 \"href\":\"https://www.bu.edu/library/research/guides/course-guides/\"},\n      {\"title\":\"How-To Guides\",                 \"href\":\"https://www.bu.edu/library/help/how-to/\"},\n      {\"title\":\"Pardee Management Library FAQs\",\"href\":\"https://askalibrarian.bu.edu/businessFAQs/\"},\n      {\"title\":\"Make a Research Appointment\",   \"href\":\"https://www.bu.edu/library/services/reference/appointments/\"}\n    ]\n  },\"guides\":{\n    \"header\":\"Library Guides\",\n    \"links\":[\n      {\"title\":\"Research Guides by Subject\",  \"href\":\"https://library.bu.edu/guides/\"},\n      {\"title\":\"Course Guides\",               \"href\":\"https://www.bu.edu/library/research/guides/course-guides/\"},\n      {\"title\":\"How-To Guides\",               \"href\":\"https://www.bu.edu/library/help/how-to/\"},\n      {\"title\":\"Make a Research Appointment\", \"href\":\"https://www.bu.edu/library/services/reference/appointments/\"}\n    ]\n  },\"primo\":{\n    \"header\":\"BU Libraries Search\",\n    \"links\":[\n      {\"title\":\"My Library Account\",  \"href\":\"https://www.bu.edu/library/account/\"},\n      {\"title\":\"Advanced Search\",     \"href\":\"https://www.bu.edu/library/advancedsearch/\"},\n      {\"title\":\"Browse Search\",       \"href\":\"https://buprimo.hosted.exlibrisgroup.com/primo-explore/browse?vid=BU&lang=en_US\"},\n      {\"title\":\"Databases List \",     \"href\":\"https://library.bu.edu/az.php\"},\n      {\"title\":\"Search Help\",         \"href\":\"https://www.bu.edu/library/help/bu-libraries-search/\"},\n      {\"title\":\"What's New\",          \"href\":\"https://www.bu.edu/library/help/bu-libraries-search/new-bu-libraries-search-features/\"}\n    ]\n  }\n};\n\n/** Reactive/responsive footer providing slotted middle section and customizable LoCoSo data */\nexport default class BULibFooter extends LitElement {\n\n  constructor(){\n    super();\n    this.library = \"help\";\n  }\n\n  static get styles(){\n    return [\n      css`\n        /* footer grid and colors */\n        footer {\n          display: grid;\n          grid-template-columns: repeat(8, 1fr);\n          grid-auto-rows: minmax(50px, auto);\n          grid-template-areas:\n            \"ftr-md ftr-md ftr-md ftr-md ftr-md ftr-md ftr-md ftr-md\"\n            \"ftr-rt ftr-rt ftr-rt ftr-rt ftr-rt ftr-rt ftr-rt ftr-rt\"\n            \"ftr-lt ftr-lt ftr-lt ftr-lt ftr-lt ftr-lt ftr-lt ftr-lt\";\n          grid-gap: 10px;\n        }\n        .ftr-middle > div, .ftr-right > div, .ftr-left > div { width: 85%; margin: 0 auto; }\n        .ftr-right { padding-bottom: 0px; }\n\n        /* medium-sized screen */\n        @media only screen and (min-width: 850px) and (max-width: 1200px){\n          footer {\n            grid-template-areas:\n              \"ftr-md ftr-md ftr-md ftr-md ftr-md ftr-md ftr-md ftr-md\"\n              \"ftr-lt ftr-lt ftr-lt ftr-rt ftr-rt ftr-rt ftr-rt ftr-rt\";\n          }\n          .ftr-middle { border-bottom: solid transparent 1px; }\n          .ftr-right  { \n            border-bottom: solid transparent 1px !important; \n            padding-bottom: 60px;\n          }\n          .ftr-middle > div { width: 75%; }\n          .ftr-left > div, .ftr-right > div { width: 100%; }\n        }\n      \n        /* large-sized screen */ \n        @media only screen and (min-width: 1100px) and (max-width: 1400px){\n          footer {\n            grid-template-areas: \"ftr-lt ftr-lt ftr-md ftr-md ftr-md ftr-rt ftr-rt ftr-rt\";\n          }\n          .ftr-middle { border-bottom: solid transparent 1px !important; }\n          .ftr-middle > div { width: 85%; margin: 0 auto; }\n          .ftr-right  { \n            border-bottom: solid transparent 1px !important; \n            padding-bottom: 60px;\n          } \n        }\n\n        /* x-large-sized screen */\n        @media only screen and (min-width: 1400px){\n          footer {\n            grid-template-areas: \"ftr-lt ftr-lt ftr-md ftr-md ftr-md ftr-rt ftr-rt ftr-rt\";\n          }\n          .ftr-middle { border-bottom: solid transparent 1px !important; }\n          .ftr-middle > div { width: 85%; margin: 0 auto; }\n          .ftr-right  { \n            border-bottom: solid transparent 1px !important; \n            padding-bottom: 0px !important;\n          }\n        }\n\n        /* map classes to grid areas */\n        .ftr-left   { grid-area: ftr-lt; border-bottom: solid transparent 1px; padding-bottom: 20px; }\n        .ftr-middle { grid-area: ftr-md; border-bottom: solid lightgrey 1px; }\n        .ftr-right  { grid-area: ftr-rt; border-bottom: solid lightgrey 1px; }\n\n        /* '*Boston University* Libraries' styling */\n        .bulib-typeface h3 a > span { font-weight: 400; }\n        .bulib-typeface a { \n          text-decoration: none !important; \n          font-size: large; \n          color: var(--color-primary-text-light, white);\n        }\n\n        /* firefox fix to stop the 'Follow Us' from becoming centered */\n        ::slotted(h3) { text-align: left; }\n      `\n    ]\n  }\n\n  static get properties() {\n    return {\n      /** provide window into setting displayed 'locoso' contact data */\n      library: {type: String}, //TODO resolve error (doesn't effectively cascade)\n      /** key for the subsite (used to populate the sitemap) */\n      host_site: {type: String},\n      \n      /** [debugging] enable logging for parent and child events */\n      debug: {type: Boolean},\n      /** [debugging] manually simulate the url to override/force different states */\n      curr_url: {type: String}\n    };\n  }\n\n  connectedCallback(){\n    super.connectedCallback();\n    let current_url = (this.curr_url)? this.curr_url : window.location.href || \"\";\n    let lib_code = getLibraryCodeFromUrl(current_url);\n    this._logToConsole(\"selected library code: \" + lib_code);\n    this.library = lib_code;\n  }\n\n  /** upon the element's first connection to the DOM, get the url and use it to determine $this.library */\n  updated(){\n    let current_url = !!this.curr_url? this.curr_url : window.location.href;\n    \n    // determine site\n    let old_site = this.host_site;\n    let main_site = getSiteCodeFromUrl(current_url);\n    if([\"about\",\"research\",\"services\"].includes(main_site)){ this.host_site = \"wordpress\"; }\n    else if(main_site == \"help\"){ this.host_site = \"askalibrarian\"; }\n    else if(main_site == \"guides\"){ this.host_site = \"guides\"; }\n    else if(main_site == \"search\" || main_site == \"primo\"){ this.host_site = \"primo\"; }\n    else{ this.host_site = \"askalibrarian\"; }\n    if(old_site != this.host_site){\n      this._logToConsole(`'host_site' changed from '${old_site}' to '${this.host_site}'`);\n    }\n    \n    // determine library\n    let old_library = this.library;\n    let lib_code = this.curr_url? getLibraryCodeFromUrl(current_url) : this.library;\n    this.library = lib_code;\n    if(old_library != this.library){\n      this._logToConsole(`library changed from '${old_library}' to '${this.library}'.`);\n    }\n  }\n\n  render() {\n    // fill in the sitemap middle section of the footer\n    let sitemap_data = sitemap_values[this.host_site] || sitemap_values[\"askalibrarian\"];\n    let links = sitemap_data[\"links\"];\n    let sitemap_content = html`\n      <h3>${sitemap_data[\"header\"]}</h3>\n      <ul class=\"multi-column no-bullet txtl\">\n        ${links.map((l) => html`<li>\n          <a class=\"white-link pvm\" href=\"${l.href}\" @click=\"${(ev) => {sendGAEventFromClickEvent(ev, 'bulib-footer');}}\">${l.title}</a>\n        </li>`)}\n      </ul>\n    `;\n\n    // render the main content of the component\n    return html`\n      <link rel=\"stylesheet\" type=\"text/css\" href=\"https://cdn.jsdelivr.net/npm/bulib-wc@latest/dist/bundle.min.css\">\n      <div class=\"footer-wrapper\">\n        <footer>\n          <div class=\"ftr-left\">\n            <div class=\"txtc\">\n              <div class=\"bulib-typeface\">\n                <h3>\n                  <a @click=\"${(ev) => {sendGAEventFromClickEvent(ev, 'bulib-footer');}}\" href=\"https://www.bu.edu/library\">\n                    <strong>Boston University</strong> <span>Libraries</span>\n                  </a>\n                </h3>\n              </div>\n            \n              <div style=\"font-size: small;\">\n                <small>\n                  <a title=\"Copyright\" class=\"white-link prs\" href=\"https://www.bu.edu/copyright\" target=\"_blank\"\n                    @click=\"${(ev) => {sendGAEventFromClickEvent(ev, 'bulib-footer');}}\">&copy; Copyright ${new Date().getFullYear()}</a>\n                </small>\n                <small>\n                  <a title=\"Privacy Statement\" class=\"white-link\" target=\"_blank\" \n                    href=\"https://www.bu.edu/policies/information-security-home/digital-privacy-statement/\"\n                    @click=\"${(ev) => {sendGAEventFromClickEvent(ev, 'bulib-footer');}}\">Privacy Statement</a>\n                </small>\n              </div>\n              <div>\n                <ul class=\"no-bullet inline-list ptl\">\n                  <li><a title=\"Boston University Home Page\" class=\"white-link\" href=\"https://www.bu.edu/\"\n                          @click=\"${(ev) => {sendGAEventFromClickEvent(ev, 'bulib-footer');}}\">BU Home</a></li>\n                  <li><a title=\"Search available/licensed content\" class=\"white-link\" href=\"https://www.bu.edu/library/search\"\n                          @click=\"${(ev) => {sendGAEventFromClickEvent(ev, 'bulib-footer');}}\">Search</a></li>\n                  <li><a title=\"Information regarding various BU Libraries\" class=\"white-link\" href=\"https://www.bu.edu/library/about\"\n                          @click=\"${(ev) => {sendGAEventFromClickEvent(ev, 'bulib-footer');}}\">Locations</a></li>\n                  <li><a title=\"Help\" class=\"white-link\" href=\"https://askalibrarian.bu.edu/\"\n                          @click=\"${(ev) => {sendGAEventFromClickEvent(ev, 'bulib-footer');}}\">Help</a></li>\n                </ul>\n              </div>\n\n            </div>\n          </div>\n          <div class=\"ftr-middle txtc\">\n            <div id=\"sitemap\"><slot name=\"sitemap\">${sitemap_content}</slot></div>\n          </div>\n          <div class=\"ftr-right\">\n            <div id=\"ftr-locoso\">\n              <bulib-locoso library=\"${this.library}\" link_class=\"white-link\"></bulib-locoso>\n            </div>\n          </div>\n        </footer>\n      </div>\n    `;\n  }\n  \n  _logToConsole(message){\n    if(this.debug){ console.log(\"bulib-footer) \" + message); }\n  }\n\n}\n","import BULibFooter from './footer';\n\nwindow.customElements.define(\"bulib-footer\", BULibFooter);"],"names":["sitemap_values","customElements","define","LitElement","constructor","library","css","type","String","host_site","debug","Boolean","curr_url","connectedCallback","current_url","this","window","location","href","lib_code","getLibraryCodeFromUrl","_logToConsole","updated","old_site","main_site","getSiteCodeFromUrl","includes","old_library","render","sitemap_data","links","sitemap_content","html","map","l","ev","sendGAEventFromClickEvent","title","Date","getFullYear","message","console","log"],"mappings":"2MAMA,MAAMA,EAAiB,WACP,QACH,4BACD,CACN,OAAS,8BAAgC,4CACzC,OAAS,uBAAgC,iDACzC,OAAS,kBAAgC,+CACzC,OAAS,uBAAgC,gEACzC,OAAS,yBAAgC,qDACzC,OAAS,mBAAgC,oEAE3B,QACP,wBACD,CACN,OAAS,kCAAwC,kCACjD,OAAS,qBAAwC,6DACjD,OAAS,qBAAwC,2CACjD,OAAS,sCAAwC,8CACjD,OAAS,mCAAwC,wEAE1C,QACA,uBACD,CACN,OAAS,kCAAsC,kCAC/C,OAAS,qBAAsC,6DAC/C,OAAS,qBAAsC,2CAC/C,OAAS,mCAAsC,uEAEzC,QACC,4BACD,CACN,OAAS,0BAA8B,uCACvC,OAAS,uBAA8B,8CACvC,OAAS,qBAA8B,mFACvC,OAAS,uBAA8B,iCACvC,OAAS,mBAA8B,wDACvC,OAAS,kBAA8B,mGCxCtCC,eAAeC,OAAO,eD8Cd,cAA0BC,EAEvCC,2BAEOC,QAAU,iCAIR,CACLC,CAAI;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;uCA6EC,CAELD,QAAS,CAACE,KAAMC,QAEhBC,UAAW,CAACF,KAAMC,QAGlBE,MAAO,CAACH,KAAMI,SAEdC,SAAU,CAACL,KAAMC,SAIrBK,0BACQA,wBACFC,EAAeC,KAAKH,SAAWG,KAAKH,SAAWI,OAAOC,SAASC,MAAQ,GACvEC,EAAWC,EAAsBN,QAChCO,cAAc,0BAA4BF,QAC1Cd,QAAUc,EAIjBG,cACMR,EAAgBC,KAAKH,SAAUG,KAAKH,SAAWI,OAAOC,SAASC,KAG/DK,EAAWR,KAAKN,UAChBe,EAAYC,EAAmBX,GAChC,CAAC,QAAQ,WAAW,YAAYY,SAASF,QAAkBf,UAAY,iBACvCA,UAAd,QAAbe,EAAuC,gBAC1B,UAAbA,EAAyC,SAC5B,UAAbA,GAAsC,SAAbA,EAAwC,QAClD,gBACpBD,GAAYR,KAAKN,gBACbY,cAAe,6BAA4BE,UAAiBR,KAAKN,kBAIpEkB,EAAcZ,KAAKV,QACnBc,EAAWJ,KAAKH,SAAUQ,EAAsBN,GAAeC,KAAKV,aACnEA,QAAUc,EACZQ,GAAeZ,KAAKV,cAChBgB,cAAe,yBAAwBM,UAAoBZ,KAAKV,aAIzEuB,aAEMC,EAAe7B,EAAee,KAAKN,YAAcT,EAAc,cAC/D8B,EAAQD,EAAY,MACpBE,EAAkBC,CAAK;YACnBH,EAAY;;UAEdC,EAAMG,IAAKC,GAAMF,CAAK;4CACYE,EAAEhB,iBAAkBiB,IAAQC,EAA0BD,EAAI,qBAAsBD,EAAEG;;;aAMnHL,CAAK;;;;;;;;+BAQgBG,IAAQC,EAA0BD,EAAI;;;;;;;;;8BASvCA,IAAQC,EAA0BD,EAAI,uCAAuC,IAAIG,MAAOC;;;;;8BAKxFJ,IAAQC,EAA0BD,EAAI;;;;;;oCAMhCA,IAAQC,EAA0BD,EAAI;;oCAEtCA,IAAQC,EAA0BD,EAAI;;oCAEtCA,IAAQC,EAA0BD,EAAI;;oCAEtCA,IAAQC,EAA0BD,EAAI;;;;;;;qDAOtBJ;;;;uCAIdhB,KAAKV;;;;;MAQ1CgB,cAAcmB,GACTzB,KAAKL,OAAQ+B,QAAQC,IAAI,iBAAmBF"}