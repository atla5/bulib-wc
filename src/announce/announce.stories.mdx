import { Story, Preview, Meta, Props, html, withKnobs, withWebComponentsKnobs } from '@open-wc/demoing-storybook';
import './bulib-announce.js';

<Meta 
  title="Web Components|bulib-announce"
  decorators={[withKnobs, withWebComponentsKnobs]}
  parameters={{
    component: "bulib-announce",
    options: { selectedPanel: "storybookjs/knobs/panel" },
  }}
/>

# BU Libraries Announcement 

Used to show site-wide, time-sensitive information from an [editable spreadsheet](https://docs.google.com/spreadsheets/d/1ElW0CUOV3LvcHuYxK2BZfFjo65a-XDrlNJtnrelA6tM/edit#gid=0)
  or manual settings with varying severity, a prominent message, a clear call to action.

## Usages 

### Default Component

by default, `bulib-announce` displays with a default message with an `info`-level severity and no call to action

<Preview withToolbar>
  <Story name="default">
    {html`<bulib-announce debug></bulib-announce>`}
  </Story>
</Preview>

### Custom Message

You can specify a `message`, `severity`, and call to action text (`cta_url`) and url (`cta_url`). 

<Preview withToolbar>
  <Story name="message-success-cta">
    {html`
      <bulib-announce message="this is a custom message" severity="success" debug
        cta_text="click me" cta_url="https://github.com/bulib/bulib-wc"></bulib-announce>`}
  </Story>
</Preview>

### No-Javascript Version

you should be able to get the same styling with plain html as well.

#### NoJS Announce (enabled)

<Preview withToolbar>
  <Story name="nojs-announce">
    {html`
      <bulib-announce style="display: none;"></bulib-announce>
      <div class="announce-banner warn" debug>
        <i class="material-icons">info</i>
        <span class="message">Sign in to view My Favorites: 
          <span translate="eshelf.signin.title">Sign in</span></button>
        </span>
        <button onclick="localStorage.setItem('announcement-dismissed', true)">DISMISS</button>
      </div>
    `}
  </Story>
</Preview>


#### NoJS Announce (disabled)

you should be able to get the same styling with plain html as well.

_note: knobs will not have any effect here_

<Preview withToolbar>
  <Story name="nojs-announce-disabled">
    {html`
      <bulib-announce style="display: none;"></bulib-announce>
      
      <hr />
      <small>there is an invisible banner here (<code>display: none;</code>) because the <code>debug</code> is absent</small>
      <div class="announce-banner alert" disabled="true">
        <i class="material-icons">info</i>
        <span class="message">Sign in to view My Favorites: 
          <span translate="eshelf.signin.title">Sign in</span></button>
        </span>
        <button onclick="localStorage.setItem('announcement-dismissed', true)">DISMISS</button>
      </div>
      <hr />
      
      <hr />
      <div class="announce-banner warn" debug disabled="true">
        <i class="material-icons">announcement</i>
        <span class="message">Manually disabled, but with the <code>debug</code> tag</span>
        <button onclick="localStorage.setItem('announcement-dismissed', true)">DISMISS</button>
      </div>
      <hr />
    `}
  </Story>
</Preview>


## API - Properties 

<Props of="bulib-announce" />

