import { Story, Preview, Meta, Props, html, withKnobs, withWebComponentsKnobs } from '@open-wc/demoing-storybook';

<Meta title="JS Helpers|Browser Compatibility"/>

# Browser Compatibility Helper

There are minor issues with some legacy browsers that do not support Web Components. 

We want to have some visibility into **how often** this happens, and we always want to provide users 
  with a **fallback experience** (_graceful degradation_ and _progressive enhancement_), that allows 
  them to fulfill the main goal of that page/site. 


## Usages 


### Check to See If Web Components Are Supported By the Client's Browser 

```js
import {doesBrowserSupportWebComponents} from 'https://unpkg.com/bulib-wc@latest/src/_helpers/browser_compatibility.js?module';
doesBrowserSupportWebComponents();
```

_NOTE: This helper reports the results to analytics behind the scenes with the assistance of `google_analytix.js` helper._

### Safely Replace the Fallback Elements If Web Components Are Supported

```html
<script type="module">
  // import helper from the CDN
  import {loadWebComponentInto} from 'https://unpkg.com/bulib-wc@latest/src/_helpers/browser_compatibility.js?module';

  // set the elements to replace and the web component to (potentially) replace them with
  let tagname_for_web_component = "bulib-component";
  let list_of_elements_to_replace = [ 
    document.getElementById("an-id-selector"), document.querySelector("div.a-class-name > span"), document.querySelector("div.another-class > h3")
  ];
  loadWebComponentsInto(tagname_for_web_component, list_of_elements_to_replace);]
</script>
```