{"version":3,"file":"lib_info_helper-f5ea09c7.js","sources":["../src/_helpers/lib_info_helper.js"],"sourcesContent":["const INFO_HELPER_DEBUG = false;\n\n// static data about each library, powering LoCoSo, LibHours\nconst libraries_data_backup = {\n  \"mugar-memorial\":{\n    \"name\":\"Mugar Memorial Library\",\n    \"short\":\"Mugar Library\",\n    \"website\":\"https://www.bu.edu/library/mugar-memorial/\",\n    \"address\":[\"771 Commonwealth Avenue\",\"Boston, MA 02215\"],\n    \"contacts\":{\"phone\":\"617-353-2700\",\"email\":\"ask@bu.edu\"},\n    \"social\":{\"facebook\":\"bostonulibraries\",\"twitter\":\"bulibraries\",\"instagram\":\"bulibraries\"},\n    \"hours_url\": \"https://www.bu.edu/library/mugar-memorial/about/hours/\",\n    \"libcal_lid\": 1475\n  },\"african-studies\":{\n    \"name\":\"African Studies Library\",\n    \"short\":\"African Studies\",\n    \"website\":\"https://www.bu.edu/library/african-studies/\",\n    \"address\":[\"771 Commonwealth Ave, 6th Floor\",\"Boston, MA, 02215\"],\n    \"contacts\":{\"phone\":\"617-353-3726\"},\n    \"social\":{\"facebook\":\"BuAfricanStudiesLibrary\",\"flickr\":\"123460528@N03\"},\n    \"hours_url\":\"https://www.bu.edu/library/african-studies/about/hours/\",\n    \"libcal_lid\":1809\n  },\"medlib\":{\n    \"name\":\"Alumni Medical Library\",\n    \"short\":\"Medical Library\",\n    \"website\":\"https://medlib.bu.edu/\",\n    \"address\":[\"72 E Concord, L-12\",\"Boston, MA 02118\"],\n    \"contacts\":{\"phone\":\"617-358-2350\",\"fax\":\"617-358-2347\",\"email\":\"refquest@bu.edu\"},\n    \"hours_url\": \"https://www.bumc.bu.edu/medlib/about-us/hours/\"\n  },\"astronomy\":{\n    \"name\":\"Astronomy Library\",\n    \"short\":\"Astronomy Library\",\n    \"website\":\"https://www.bu.edu/library/astronomy/\",\n    \"address\":[\"725 Commonwealth Avenue\",\"Boston, MA 02445\"],\n    \"contacts\":{\"phone\":\"617-353-2625\"},\n    \"hours_url\":\"https://www.bu.edu/library/astronomy/about/hours/\",\n    \"libcal_lid\":1784\n  },\"lawlibrary\":{\n    \"name\":\"Fineman & Pappas Law Libraries\",\n    \"short\":\"Law Library\",\n    \"website\":\"https://www.bu.edu/lawlibrary/\",\n    \"address\":[\"765 Commonwealth Ave, 2nd Floor\",\"Boston, MA 02215\"],\n    \"contacts\":{\"phone\":\"617-353-8411\",\"text\":\"1-617-997-4475\"},\n    \"hours_url\":\"https://www.bu.edu/lawlibrary/using-the-library/access-policy/\"\n  },\"hgar\":{\n    \"name\":\"Howard Gotlieb Archival Research Center\",\n    \"short\":\"BU Archive\",\n    \"website\":\"http://archives.bu.edu/\",\n    \"address\":[\"771 Commonwealth Ave, 5th Floor\",\"Boston, MA 02215\"],\n    \"contacts\":{\"phone\":\"617-353-3696\",\"fax\":\"617-353-2838\",\"email\":\"archives@bu.edu\"},\n    \"social\":{\"facebook\":\"hgarc\",\"twitter\":\"BUHGARC\"},\n    \"hours_url\":\"http://archives.bu.edu/web/guest/about\"\n  },\"music\":{\n    \"name\":\"Music Library\",\n    \"short\":\"Music Library\",\n    \"website\":\"https://www.bu.edu/library/music/\",\n    \"address\":[\"771 Commonwealth Ave, Floor 2\",\"Boston, MA 02215\"],\n    \"contacts\":{\"phone\":\"617-353-3705\",\"email\":\"musiclib@bu.edu\"},\n    \"social\":{\"twitter\":\"BUMusicLib\",\"facebook\":\"bumusiclib\"},\n    \"hours_url\":\"https://www.bu.edu/library/music/about/hours/\",\n    \"libcal_lid\":1810\n  },\"pardee\":{\n    \"name\":\"Pardee Management Library\",\n    \"short\":\"Pardee Library\",\n    \"website\":\"https://www.bu.edu/library/management/\",\n    \"address\":[\"595 Commonwealth Avenue\",\"Boston, MA 02215\"],\n    \"contacts\":{\"phone\":\"617-353-4301\",\"fax\":\"617-353-4307\",\"email\":\"pardstf@bu.edu\"},\n    \"social\":{\"twitter\":\"BUpardeelibrary\",\"facebook\":\"BUpardeelibrary\"},\n    \"hours_url\":\"https://www.bu.edu/library/management/about/hours/\",\n    \"libcal_lid\":1476\n  },\"pickering\":{\n    \"name\":\"Pickering Educational Resources Library\",\n    \"short\":\"Pickering Library\",\n    \"website\":\"https://www.bu.edu/library/pickering-educational/\",\n    \"address\":[\"2 Silber Way\",\"Boston, MA 02215\"],\n    \"contacts\":{\"phone\":\"617-353-3734\"},\n    \"social\":{\"twitter\":\"BUPickeringLib\",\"facebook\":\"BUPickeringLibrary\"},\n    \"hours_url\":\"https://www.bu.edu/library/pickering-educational/about/hours\",\n    \"libcal_lid\":1783\n  },\"sel\":{\n    \"name\":\"Science & Engineering Library\",\n    \"short\":\"SciEng Library\",\n    \"website\":\"https://www.bu.edu/library/sel/\",\n    \"address\":[\"38 Cummington Mall\",\"Boston, MA 02215\"],\n    \"contacts\":{\"phone\":\"617-353-3733\",\"fax\":\"617-353-3470\"},\n    \"social\":{\"twitter\":\"BUSciEngLib\",\"tumblr\":\"buscienglib\",\"instagram\":\"buscienglib\"},\n    \"hours_url\":\"https://www.bu.edu/library/sel/about/hours/\",\n    \"libcal_lid\":1477\n  },\"stone\":{\n    \"name\":\"Stone Science Library\",\n    \"short\":\"Stone Library\",\n    \"website\":\"https://www.bu.edu/library/stone-science/\",\n    \"address\":[\"675 Commonwealth Ave, Floor 2\",\"Boston, MA 02445\"],\n    \"contacts\":{\"phone\":\"617-353-5679\"},\n    \"hours_url\":\"https://www.bu.edu/library/stone-science/about/hours/\",\n    \"libcal_lid\":1785\n  },\"theology\":{\n    \"name\":\"School of Theology Library\",\n    \"short\":\"Theology Library\",\n    \"website\":\"https://www.bu.edu/sthlibrary/\",\n    \"address\":[\"745 Commonwealth Ave, Floor 2\",\"Boston, MA 02215\"],\n    \"contacts\":{\"phone\":\"617-353-3034\",\"fax\":\"617-358-0698\",\"email\":\"sthlib@bu.edu\"},\n    \"social\":{\"twitter\":\"BUSTHLibrary\",\"facebook\":\"busthlibrary\",\"instagram\":\"butheologylibrary\"},\n    \"hours_url\":\"https://www.bu.edu/sthlibrary/for-visitors/directions/\"\n  },\"help\":{\n    \"name\":\"BU Libraries\",\n    \"short\":\"BU Libraries\",\n    \"website\":\"https://www.bu.edu/library\",\n    \"address\":[\"771 Commonwealth Avenue\",\"Boston, MA 02215\"],\n    \"contacts\":{\"phone\":\"617-353-2700\",\"email\":\"ask@bu.edu\",\"text\":\"617-431-2427\"},\n    \"social\":{\"facebook\":\"bostonulibraries\",\"twitter\":\"bulibraries\",\"instagram\":\"bulibraries\"},\n    \"hours_url\": \"https://www.bu.edu/library/mugar-memorial/about/hours/\",\n    \"libcal_lid\": 1475\n  }\n};\n\nexport function getLibraryInfoFromCode(lib_code, debug=INFO_HELPER_DEBUG, defLibCode=\"help\"){\n  let libraries_data = /* TODO: _getDataFromFile(\"lib_info.json\") || */ libraries_data_backup;\n  let library_data = libraries_data[lib_code] || libraries_data[defLibCode];\n  logToConsole(`getting library_data for code: '${lib_code}' with default '${defLibCode}'.`, debug);\n  return library_data;\n}\n\nexport function getSiteCodeFromUrl(url, debug=INFO_HELPER_DEBUG, defSiteCode=\"help\"){\n  let site_code = \"about\";\n  if(url.includes(\"askalibrarian\")){ site_code = \"help\"; }\n  else if(url.includes(\"/disc/\") || url.includes(\"/dioa\")){ site_code =\"services\"; }\n  else if(url.includes(\"open.bu\") || url.includes(\"archives\")){ site_code = \"collections\"; }\n  else if(url.includes(\"guides\")){ site_code = \"guides\" }\n  else if(url.includes(\"buprimo\") || url.includes(\"exlibrisgroup\") || url.includes(\"primo-explore\")){ site_code = \"search\"; }\n  else if(url.includes(\".bu.edu/library\")){\n    if(url.includes(\"/research\")){ site_code = \"research\"; }\n    else if(url.includes(\"/services\")){ site_code = \"services\"; }\n    else{ site_code = \"about\"; }\n  }else{ site_code = \"about\"; }\n  \n  logToConsole(`site_code '${site_code}' extracted from url '${url}'.`, debug);\n  return site_code;\n}\n\nexport function getLibraryCodeFromUrl(lib_url, debug=INFO_HELPER_DEBUG, defLibCode=\"help\"){\n  let lib_code = defLibCode;\n  if(lib_url.includes(\"archives.bu.edu\")){ lib_code=\"hgar\"; }\n\n  // main wordpress site\n  if(lib_url.includes(\"bu.edu/library/\")){\n    // try to get {library_code} from url 'http://www.bu.edu/library/{stone-science}/research/guides/'\n    let lib_url_fragment = lib_url.split(\"bu.edu/library/\")[1] || \"\";\n    lib_url_fragment = lib_url_fragment.split(\"/\")[0];\n\n    // set library code based on url fragment\n    if(lib_url_fragment.includes(\"africa\")){ lib_code = \"african-studies\"; }\n    else if(lib_url_fragment.includes(\"mugar\")){ lib_code = \"mugar-memorial\"; }\n    else if(lib_url_fragment.includes(\"med\")){ lib_code = \"medlib\"; }\n    else if(lib_url_fragment.includes(\"astronom\")){ lib_code = \"astronomy\"; }\n    else if(lib_url_fragment.includes(\"law\")){ lib_code = \"lawlibrary\"; }\n    else if(lib_url_fragment.includes(\"music\")){ lib_code = \"music\"; }\n    else if(lib_url_fragment.includes(\"management\")){ lib_code = \"pardee\"; }\n    else if(lib_url_fragment.includes(\"pickering\")){ lib_code = \"pickering\"; }\n    else if(lib_url_fragment.includes(\"sel\")){ lib_code = \"sel\"; }\n    else if(lib_url_fragment.includes(\"stone\")){ lib_code = \"stone\"; }\n    else if(lib_url_fragment.includes(\"sth\")){ lib_code = \"stone\"; }\n    else { lib_code = \"help\"; }\n  }\n\n  // reserve a room\n  if(lib_url.includes(\"booking/mugarstudy\")){ lib_code = \"mugar-memorial\"; }\n  else if(lib_url.includes(\"booking/Pickering\")){ lib_code = \"pickering\"; }\n\n  // floorplans\n  if(lib_url.includes(\"maps-floorplans/mugar\")){\n    lib_code = \"mugar-memorial\"; \n    \n    if(lib_url.includes(\"mugar-2\")){ lib_code = \"music\"; }\n    else if(lib_url.includes(\"mugar-6\")){ lib_code = \"african-studies\"; }\n  }\n\n  // askalibrarian \n  if(lib_url.includes(\"askalibrarian\") && lib_url.includes(\"business\")){ lib_code = \"pardee\"; }\n  if(!Object.keys(libraries_data_backup).includes(lib_code)){ lib_code = \"help\"; }\n\n  // return resulting code\n  logToConsole(`lib_code '${lib_code}' from lib_url '${lib_url}'`, debug);\n  return lib_code;\n}\n\nexport const getAllLibraryInfo = function(){ return libraries_data_backup; }\n\nexport const makeLibraryUrlList = function(){\n  let ls_items = \"\"; let code;\n  for(code in libraries_data_backup){\n    let item = getLibraryInfoFromCode(code)\n    ls_items += `\\t<li href=\"${item.website}\">${item.name}\"<li>\\n`;\n  }\n  return `<ul>\\n${ls_items}</ul>\\n`;\n};\n\nconst logToConsole = function(message, debug){\n  if(debug && debug === true){ console.log(\"lib_info_helper) \" + message); }\n};"],"names":["INFO_HELPER_DEBUG","libraries_data_backup","getLibraryInfoFromCode","lib_code","debug","defLibCode","libraries_data","library_data","logToConsole","getSiteCodeFromUrl","url","site_code","includes","getLibraryCodeFromUrl","lib_url","lib_url_fragment","split","Object","keys","message","console","log"],"mappings":"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"}